---
const editions = [
  {
    year: '2025',
    participants: '300+',
    charity: 'Fundacja Rampa',
    charityUrl: 'https://rampa.org.pl/',
    achievement: 'Wsparcie działań przeciwko wykluczeniu społecznemu',
    color: 'brand-teal',
    photoPlaceholder: true,
  },
  {
    year: '2024',
    participants: '200+',
    charity: 'Fundacja Gajusz',
    charityUrl: '#',
    achievement: 'Podnośnik rehabilitacyjny dla chorych dzieci',
    color: 'brand-yellow',
    photoPlaceholder: true,
    photosUrl: 'https://radiolodz.pl/bieg-charytatywny-na-rzecz-fundacji-gajusz-zdjecia,429813/',
  },
]
---

<section id="poprzednie-edycje" class="relative py-24 lg:py-32 bg-ink overflow-hidden">
  <!-- Large decorative text -->
  <div class="absolute right-0 top-1/2 -translate-y-1/2 font-display text-[20rem] lg:text-[40rem] text-white/[0.02] leading-none pointer-events-none select-none whitespace-nowrap" aria-hidden="true">
    2024—25
  </div>

  <div class="container-wide relative z-10">
    <!-- Header -->
    <div class="mb-16">
      <span class="section-label text-white/40 before:bg-brand-yellow">Historia</span>
      <h2 class="font-display text-5xl lg:text-6xl xl:text-7xl text-white mt-4">
        Poprzednie<br/>
        <span class="text-brand-yellow">edycje</span>
      </h2>
    </div>

    <!-- Editions Grid -->
    <div class="grid lg:grid-cols-2 gap-8">
      {editions.map((edition, index) => (
        <article class="group relative bg-white/5 backdrop-blur-sm border border-white/10 overflow-hidden">
          <!-- Year badge -->
          <div class={`absolute top-0 right-0 bg-${edition.color} px-6 py-3`}>
            <span class={`font-display text-3xl ${edition.color === 'brand-yellow' ? 'text-ink' : 'text-white'}`}>
              {edition.year}
            </span>
          </div>

          <!-- Photo area -->
          <div class="aspect-video bg-white/5 relative overflow-hidden">
            {edition.photoPlaceholder ? (
              <div class="absolute inset-0 flex items-center justify-center">
                <div class="text-center">
                  <svg class="w-16 h-16 text-white/20 mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                  </svg>
                  <p class="text-white/30 text-sm font-body">Zdjęcia z edycji {edition.year}</p>
                </div>
              </div>
            ) : null}

            <!-- Overlay on hover -->
            <div class="absolute inset-0 bg-brand-teal/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
              {edition.photosUrl && (
                <a
                  href={edition.photosUrl}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="btn-primary"
                >
                  Zobacz galerię
                </a>
              )}
            </div>
          </div>

          <!-- Content -->
          <div class="p-6 lg:p-8 space-y-6">
            <!-- Stats row -->
            <div class="flex items-center gap-6">
              <div>
                <div class="font-display text-4xl text-brand-yellow">{edition.participants}</div>
                <div class="text-white/50 text-xs font-headline uppercase">uczestników</div>
              </div>
              <div class="w-px h-12 bg-white/10"></div>
              <div>
                <div class="font-display text-4xl text-white">5</div>
                <div class="text-white/50 text-xs font-headline uppercase">kilometrów</div>
              </div>
            </div>

            <!-- Charity info -->
            <div class="space-y-3">
              <div class="text-white/50 text-xs font-headline uppercase tracking-wider">
                Cel charytatywny
              </div>
              <a
                href={edition.charityUrl}
                target="_blank"
                rel="noopener noreferrer"
                class="block group/link"
              >
                <h3 class="font-headline text-xl text-white group-hover/link:text-brand-yellow transition-colors">
                  {edition.charity}
                </h3>
              </a>
              <p class="text-white/60 text-sm">
                {edition.achievement}
              </p>
            </div>

            <!-- Photo credit notice -->
            <div class="pt-4 border-t border-white/10">
              <p class="text-white/30 text-xs">
                Zdjęcia zostaną dodane z pełnym oznaczeniem autorów
              </p>
            </div>
          </div>
        </article>
      ))}
    </div>

    <!-- Quote / Impact -->
    <div class="mt-16 text-center max-w-3xl mx-auto">
      <blockquote class="relative">
        <div class="font-display text-6xl text-brand-yellow/20 absolute -top-8 left-0">"</div>
        <p class="font-headline text-2xl lg:text-3xl text-white/80 italic leading-relaxed">
          200 biegaczy, 1 podnośnik rehabilitacyjny,<br/>
          dziesiątki uśmiechów chorych dzieci.
        </p>
        <footer class="mt-4 text-white/40 text-sm font-body">
          — Podsumowanie pierwszej edycji, 2024
        </footer>
      </blockquote>
    </div>
  </div>
</section>

<style>
  /* Fix for dynamic class */
  .bg-brand-teal { background-color: var(--color-brand-teal); }
  .bg-brand-yellow { background-color: var(--color-brand-yellow); }
</style>
